extends ../layout
block head

block content
    .page-header
      h1 Device List
    .container
      .row
        .col-md-14
          .panel.panel-default
            .panel-heading Monitoring Events
            .panel-body
              table.table.table-condensed
                thead
                  tr
                    th Status
                    th Check
                    th Issued
                    th Flapping
                    th Count
                    th(data-defaultsort='disabled').visible-lg Output
                tbody
                  each event in sensuEvents
                    tr(class="#{app.locals.checkDef(getEventClass(event.status))}")
                      td #{app.locals.checkDef(getEventClass(event.status))}
                      td #{app.locals.checkDef(event.check)}
                      td #{app.locals.checkDef(getFormattedTimestamp(event.issued))}
                      td #{app.locals.checkDef(event.flapping)}
                      td #{app.locals.checkDef(event.occurrences)}
                      td.visible-lg #{app.locals.checkDef(event.output.slice(0,65))}
        .row
          .col-md-6
            .panel.panel-default
              .panel-heading Sensu Information
              .panel-body
                p IP Address
                  span.pull-right #{app.locals.checkDef(sensuClient.address)}
                p Name
                  span.pull-right #{app.locals.checkDef(sensuClient.name)}
                p Subscriptions
                   ul.list-group
                    each subscription in sensuClient.subscriptions
                      li.list-group-item #{app.locals.checkDef(subscription)}
          .col-md-6
            .panel.panel-default
              .panel-heading Ubersmith Information
              .panel-body
                p Type:
                  span.pull-right #{app.locals.checkDef(uberDevice.devtype_group}/#{uberDevice.type)}
                p Active:
                  span.label.label-success.pull-right #{app.locals.checkDef(uberDevice.active)}
                p Location:
                  span.label.label-success.pull-right #{app.locals.checkDef(uberDevice.location)}
                p Company:
                  span.pull-right #{app.locals.checkDef(uberDevice.company)}
                p Contact Information:
                  ul.list-group
                    li.list-group-item Email:
                      span.pull-right #{app.locals.checkDef(uberDevice.email)}
                    li.list-group-item Phone:
                      span.pull-right #{app.locals.checkDef(uberDevice.phone)}

block footer
